{"prompt": "Dame toda la información de los examinados.", "response": "SELECT nombre, apellidos, email, telefono, dni, fechanacimiento, empleo, antiguedad, activo FROM examinado WHERE idSector = ${idsector};"}
{"prompt": "Lista los datos completos de los examinados.", "response": "SELECT nombre, apellidos, email, telefono, dni, fechanacimiento, empleo, antiguedad, activo FROM examinado WHERE idSector = ${idsector};"}
{"prompt": "¿Quiénes son los examinados y cuál es su información?", "response": "SELECT nombre, apellidos, email, telefono, dni, fechanacimiento, empleo, antiguedad, activo FROM examinado WHERE idSector = ${idsector};"}
{"prompt": "Muestra toda la información de los examinados.", "response": "SELECT nombre, apellidos, email, telefono, dni, fechanacimiento, empleo, antiguedad, activo FROM examinado WHERE idSector = ${idsector};"}
{"prompt": "Dame un listado con los examinados y su información de contacto.", "response": "SELECT nombre, apellidos, email, telefono, dni, fechanacimiento, empleo, antiguedad, activo FROM examinado WHERE idSector = ${idsector};"}
{"prompt": "¿Cuáles son los datos personales de los examinados?", "response": "SELECT nombre, apellidos, email, telefono, dni, fechanacimiento, empleo, antiguedad, activo FROM examinado WHERE idSector = ${idsector};"}
{"prompt": "Enséñame la información detallada de los examinados.", "response": "SELECT nombre, apellidos, email, telefono, dni, fechanacimiento, empleo, antiguedad, activo FROM examinado WHERE idSector = ${idsector};"}
{"prompt": "Dame un listado con los nombres, correos y teléfonos de los examinados.", "response": "SELECT nombre, apellidos, email, telefono FROM examinado WHERE idSector = ${idsector};"}
{"prompt": "Quiero ver la lista completa de examinados con sus datos personales.", "response": "SELECT nombre, apellidos, email, telefono, dni, fechanacimiento, empleo, antiguedad, activo FROM examinado WHERE idSector = ${idsector};"}
{"prompt": "Muestra la información de todos los examinados registrados en el sistema.", "response": "SELECT nombre, apellidos, email, telefono, dni, fechanacimiento, empleo, antiguedad, activo FROM examinado WHERE idSector = ${idsector};"}
{"prompt": "¿Cuántos exámenes ha completado cada examinado?", "response": "SELECT e.id AS examinado_id, e.nombre, e.apellidos, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE e.idSector = ${idsector} GROUP BY e.id, e.nombre, e.apellidos ORDER BY total_tests DESC;"}
{"prompt": "¿Cuántas pruebas ha realizado cada persona evaluada?", "response": "SELECT e.id AS examinado_id, e.nombre, e.apellidos, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE e.idSector = ${idsector} GROUP BY e.id, e.nombre, e.apellidos ORDER BY total_tests DESC;"}
{"prompt": "¿Cuál es el número de tests que ha hecho cada examinado?", "response": "SELECT e.id AS examinado_id, e.nombre, e.apellidos, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE e.idSector = ${idsector} GROUP BY e.id, e.nombre, e.apellidos ORDER BY total_tests DESC;"}
{"prompt": "¿Cuántos tests ha completado cada usuario evaluado?", "response": "SELECT e.id AS examinado_id, e.nombre, e.apellidos, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE e.idSector = ${idsector} GROUP BY e.id, e.nombre, e.apellidos ORDER BY total_tests DESC;"}
{"prompt": "¿Cuántos exámenes ha realizado cada persona en la base de datos?", "response": "SELECT e.id AS examinado_id, e.nombre, e.apellidos, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE e.idSector = ${idsector} GROUP BY e.id, e.nombre, e.apellidos ORDER BY total_tests DESC;"}
{"prompt": "¿Qué test tiene más intentos repetidos por los examinados?", "response": "SELECT sr.idsurvey, sr.idrespondent, COUNT(*) AS intentos FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE e.idSector = ${idsector} GROUP BY sr.idsurvey, sr.idrespondent ORDER BY intentos DESC LIMIT 1;"}
{"prompt": "¿Cuál es el examen con más intentos repetidos por los evaluados?", "response": "SELECT sr.idsurvey, sr.idrespondent, COUNT(*) AS intentos FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE e.idSector = ${idsector} GROUP BY sr.idsurvey, sr.idrespondent ORDER BY intentos DESC LIMIT 1;"}
{"prompt": "¿Qué prueba ha sido repetida más veces por los examinados?", "response": "SELECT sr.idsurvey, sr.idrespondent, COUNT(*) AS intentos FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE e.idSector = ${idsector} GROUP BY sr.idsurvey, sr.idrespondent ORDER BY intentos DESC LIMIT 1;"}
{"prompt": "¿Cuál es el test que más veces han intentado los evaluados?", "response": "SELECT sr.idsurvey, sr.idrespondent, COUNT(*) AS intentos FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE e.idSector = ${idsector} GROUP BY sr.idsurvey, sr.idrespondent ORDER BY intentos DESC LIMIT 1;"}
{"prompt": "¿En qué examen se han registrado más intentos repetidos?", "response": "SELECT sr.idsurvey, sr.idrespondent, COUNT(*) AS intentos FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE e.idSector = ${idsector} GROUP BY sr.idsurvey, sr.idrespondent ORDER BY intentos DESC LIMIT 1;"}
{"prompt": "¿Qué evaluación ha sido intentada más veces por los usuarios?", "response": "SELECT sr.idsurvey, sr.idrespondent, COUNT(*) AS intentos FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE e.idSector = ${idsector} GROUP BY sr.idsurvey, sr.idrespondent ORDER BY intentos DESC LIMIT 1;"}
{"prompt": "¿Cómo varía la cantidad de tests realizados según la edad de los examinados?", "response": "SELECT YEAR(CURDATE()) - YEAR(e.fechanacimiento) AS edad, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN examinado e ON sr.idrespondent = e.id WHERE e.idSector = ${idsector} GROUP BY edad ORDER BY edad;"}
{"prompt": "¿Cómo cambia la cantidad de exámenes realizados según la edad de los participantes?", "response": "SELECT YEAR(CURDATE()) - YEAR(e.fechanacimiento) AS edad, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN examinado e ON sr.idrespondent = e.id WHERE e.idSector = ${idsector} GROUP BY edad ORDER BY edad;"}
{"prompt": "¿Existe una relación entre la edad de los examinados y el número de pruebas realizadas?", "response": "SELECT YEAR(CURDATE()) - YEAR(e.fechanacimiento) AS edad, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN examinado e ON sr.idrespondent = e.id WHERE e.idSector = ${idsector} GROUP BY edad ORDER BY edad;"}
{"prompt": "¿Cuántos tests ha hecho cada grupo de edad?", "response": "SELECT YEAR(CURDATE()) - YEAR(e.fechanacimiento) AS edad, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN examinado e ON sr.idrespondent = e.id WHERE e.idSector = ${idsector} GROUP BY edad ORDER BY edad;"}
{"prompt": "¿Cuál es la distribución de exámenes realizados según la edad?", "response": "SELECT YEAR(CURDATE()) - YEAR(e.fechanacimiento) AS edad, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN examinado e ON sr.idrespondent = e.id WHERE e.idSector = ${idsector} GROUP BY edad ORDER BY edad;"}
{"prompt": "¿Cómo influye la edad de los evaluados en la cantidad de pruebas realizadas?", "response": "SELECT YEAR(CURDATE()) - YEAR(e.fechanacimiento) AS edad, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN examinado e ON sr.idrespondent = e.id WHERE e.idSector = ${idsector} GROUP BY edad ORDER BY edad;"}
{"prompt": "¿Cuál es el test más frecuente entre los examinados con mejor rendimiento?", "response": "SELECT sr.idsurvey, AVG(sr.totalScore) AS avg_score FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idsurvey ORDER BY avg_score DESC LIMIT 1;"}
{"prompt": "¿Qué test han realizado con mayor frecuencia los examinados con mejor puntuación?", "response": "SELECT sr.idsurvey, AVG(sr.totalScore) AS avg_score FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idsurvey ORDER BY avg_score DESC LIMIT 1;"}
{"prompt": "¿Cuál es la evaluación más común entre los examinados con mejor desempeño?", "response": "SELECT sr.idsurvey, AVG(sr.totalScore) AS avg_score FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idsurvey ORDER BY avg_score DESC LIMIT 1;"}
{"prompt": "¿Qué prueba ha sido la más realizada por los examinados con mejor rendimiento?", "response": "SELECT sr.idsurvey, AVG(sr.totalScore) AS avg_score FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idsurvey ORDER BY avg_score DESC LIMIT 1;"}
{"prompt": "¿Cuál es el test más popular entre los evaluados con mejores calificaciones?", "response": "SELECT sr.idsurvey, AVG(sr.totalScore) AS avg_score FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idsurvey ORDER BY avg_score DESC LIMIT 1;"}
{"prompt": "¿Qué examen ha sido realizado más veces por los examinados con mejores puntuaciones?", "response": "SELECT sr.idsurvey, AVG(sr.totalScore) AS avg_score FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idsurvey ORDER BY avg_score DESC LIMIT 1;"}
{"prompt": "¿Los examinados que hacen más tests obtienen mejores notas?", "response": "SELECT sr.idrespondent, COUNT(*) AS total_tests, AVG(sr.totalScore) AS avg_score FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idrespondent ORDER BY total_tests DESC;"}
{"prompt": "¿Existe una relación entre la cantidad de tests realizados y las notas obtenidas?", "response": "SELECT sr.idrespondent, COUNT(*) AS total_tests, AVG(sr.totalScore) AS avg_score FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idrespondent ORDER BY total_tests DESC;"}
{"prompt": "¿Los examinados que realizan más evaluaciones tienen mejores puntuaciones?", "response": "SELECT sr.idrespondent, COUNT(*) AS total_tests, AVG(sr.totalScore) AS avg_score FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idrespondent ORDER BY total_tests DESC;"}
{"prompt": "¿Cómo afecta la cantidad de tests realizados al promedio de notas de los examinados?", "response": "SELECT sr.idrespondent, COUNT(*) AS total_tests, AVG(sr.totalScore) AS avg_score FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idrespondent ORDER BY total_tests DESC;"}
{"prompt": "¿Hay una correlación entre el número de pruebas hechas y el rendimiento de los examinados?", "response": "SELECT sr.idrespondent, COUNT(*) AS total_tests, AVG(sr.totalScore) AS avg_score FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idrespondent ORDER BY total_tests DESC;"}
{"prompt": "¿Las personas que hacen más tests logran calificaciones más altas en promedio?", "response": "SELECT sr.idrespondent, COUNT(*) AS total_tests, AVG(sr.totalScore) AS avg_score FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idrespondent ORDER BY total_tests DESC;"}
{"prompt": "¿Existe un patrón en la cantidad de tests realizados a lo largo del tiempo?", "response": "SELECT DATE(sr.fechaFinalizacion) AS fecha, COUNT(*) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY fecha ORDER BY fecha;"}
{"prompt": "¿Cómo ha evolucionado el número de tests realizados en el tiempo?", "response": "SELECT DATE(sr.fechaFinalizacion) AS fecha, COUNT(*) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY fecha ORDER BY fecha;"}
{"prompt": "¿Cuál es la tendencia de la cantidad de exámenes realizados a lo largo del tiempo?", "response": "SELECT DATE(sr.fechaFinalizacion) AS fecha, COUNT(*) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY fecha ORDER BY fecha;"}
{"prompt": "¿Se observa algún patrón en el número de evaluaciones completadas con el tiempo?", "response": "SELECT DATE(sr.fechaFinalizacion) AS fecha, COUNT(*) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY fecha ORDER BY fecha;"}
{"prompt": "¿Cómo varía la cantidad de pruebas realizadas en diferentes fechas?", "response": "SELECT DATE(sr.fechaFinalizacion) AS fecha, COUNT(*) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY fecha ORDER BY fecha;"}
{"prompt": "¿Cuántos tests se han realizado en cada día y cómo ha cambiado con el tiempo?", "response": "SELECT DATE(sr.fechaFinalizacion) AS fecha, COUNT(*) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY fecha ORDER BY fecha;"}
{"prompt": "¿Cuántos tests han realizado los examinados en el último mes?", "response": "SELECT COUNT(*) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE sr.fechaFinalizacion >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH) AND e.idSector = ${idsector};"}
{"prompt": "¿Cuántas evaluaciones se han realizado en los últimos 30 días?", "response": "SELECT COUNT(*) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE sr.fechaFinalizacion >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH) AND e.idSector = ${idsector};"}
{"prompt": "¿Cuál es el número total de tests realizados en el último mes?", "response": "SELECT COUNT(*) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE sr.fechaFinalizacion >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH) AND e.idSector = ${idsector};"}
{"prompt": "¿Cuántas pruebas han completado los examinados en los últimos 30 días?", "response": "SELECT COUNT(*) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE sr.fechaFinalizacion >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH) AND e.idSector = ${idsector};"}
{"prompt": "¿Cuántos tests fueron terminados en el último mes por los examinados?", "response": "SELECT COUNT(*) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE sr.fechaFinalizacion >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH) AND e.idSector = ${idsector};"}
{"prompt": "¿Cuál es la cantidad de exámenes finalizados en los últimos 30 días?", "response": "SELECT COUNT(*) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE sr.fechaFinalizacion >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH) AND e.idSector = ${idsector};"}
{"prompt": "¿Cuál es el porcentaje de examinados que han realizado más de un test?", "response": "SELECT (COUNT(DISTINCT subquery.email) / (SELECT COUNT(DISTINCT e2.email) FROM examinado e2 WHERE e2.idSector = ${idsector})) * 100 AS porcentaje FROM ( SELECT e.email FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY e.email HAVING COUNT(*) > 1 ) AS subquery;"}
{"prompt": "¿Qué porcentaje de los examinados ha realizado más de un examen?", "response": "SELECT (COUNT(DISTINCT subquery.email) / (SELECT COUNT(DISTINCT e2.email) FROM examinado e2 WHERE e2.idSector = ${idsector})) * 100 AS porcentaje FROM ( SELECT e.email FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY e.email HAVING COUNT(*) > 1 ) AS subquery;"}
{"prompt": "¿Cuántos examinados han participado en más de una evaluación en porcentaje?", "response": "SELECT (COUNT(DISTINCT subquery.email) / (SELECT COUNT(DISTINCT e2.email) FROM examinado e2 WHERE e2.idSector = ${idsector})) * 100 AS porcentaje FROM ( SELECT e.email FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY e.email HAVING COUNT(*) > 1 ) AS subquery;"}
{"prompt": "¿Qué porcentaje de personas han realizado más de un test?", "response": "SELECT (COUNT(DISTINCT subquery.email) / (SELECT COUNT(DISTINCT e2.email) FROM examinado e2 WHERE e2.idSector = ${idsector})) * 100 AS porcentaje FROM ( SELECT e.email FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY e.email HAVING COUNT(*) > 1 ) AS subquery;"}
{"prompt": "¿Qué fracción de los examinados ha tomado más de una prueba?", "response": "SELECT (COUNT(DISTINCT subquery.email) / (SELECT COUNT(DISTINCT e2.email) FROM examinado e2 WHERE e2.idSector = ${idsector})) * 100 AS porcentaje FROM ( SELECT e.email FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY e.email HAVING COUNT(*) > 1 ) AS subquery;"}
{"prompt": "¿Cuál es el porcentaje de examinados que han hecho más de una prueba?", "response": "SELECT (COUNT(DISTINCT subquery.email) / (SELECT COUNT(DISTINCT e2.email) FROM examinado e2 WHERE e2.idSector = ${idsector})) * 100 AS porcentaje FROM ( SELECT e.email FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY e.email HAVING COUNT(*) > 1 ) AS subquery;"}
{"prompt": "¿Cuál es el porcentaje de examinados que han realizado más de un test?", "response": "SELECT (COUNT(DISTINCT subquery.idrespondent) / (SELECT COUNT(DISTINCT sr2.idrespondent) FROM survey_results sr2 JOIN respondent r2 ON sr2.idrespondent = r2.id JOIN examinado e2 ON r2.contact = e2.email WHERE e2.idSector = ${idsector})) * 100 AS porcentaje FROM (SELECT sr.idrespondent FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idrespondent HAVING COUNT(*) > 1) AS subquery;"}
{"prompt": "¿Qué porcentaje de los examinados ha realizado más de un examen?", "response": "SELECT (COUNT(DISTINCT subquery.idrespondent) / (SELECT COUNT(DISTINCT sr2.idrespondent) FROM survey_results sr2 JOIN respondent r2 ON sr2.idrespondent = r2.id JOIN examinado e2 ON r2.contact = e2.email WHERE e2.idSector = ${idsector})) * 100 AS porcentaje FROM (SELECT sr.idrespondent FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idrespondent HAVING COUNT(*) > 1) AS subquery;"}
{"prompt": "¿Cuántos examinados han participado en más de una evaluación en porcentaje?", "response": "SELECT (COUNT(DISTINCT subquery.idrespondent) / (SELECT COUNT(DISTINCT sr2.idrespondent) FROM survey_results sr2 JOIN respondent r2 ON sr2.idrespondent = r2.id JOIN examinado e2 ON r2.contact = e2.email WHERE e2.idSector = ${idsector})) * 100 AS porcentaje FROM (SELECT sr.idrespondent FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idrespondent HAVING COUNT(*) > 1) AS subquery;"}
{"prompt": "¿Qué porcentaje de personas han realizado más de un test?", "response": "SELECT (COUNT(DISTINCT subquery.idrespondent) / (SELECT COUNT(DISTINCT sr2.idrespondent) FROM survey_results sr2 JOIN respondent r2 ON sr2.idrespondent = r2.id JOIN examinado e2 ON r2.contact = e2.email WHERE e2.idSector = ${idsector})) * 100 AS porcentaje FROM (SELECT sr.idrespondent FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idrespondent HAVING COUNT(*) > 1) AS subquery;"}
{"prompt": "¿Qué fracción de los examinados ha tomado más de una prueba?", "response": "SELECT (COUNT(DISTINCT subquery.idrespondent) / (SELECT COUNT(DISTINCT sr2.idrespondent) FROM survey_results sr2 JOIN respondent r2 ON sr2.idrespondent = r2.id JOIN examinado e2 ON r2.contact = e2.email WHERE e2.idSector = ${idsector})) * 100 AS porcentaje FROM (SELECT sr.idrespondent FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idrespondent HAVING COUNT(*) > 1) AS subquery;"}
{"prompt": "¿Cuál es el porcentaje de examinados que han hecho más de una prueba?", "response": "SELECT (COUNT(DISTINCT subquery.idrespondent) / (SELECT COUNT(DISTINCT sr2.idrespondent) FROM survey_results sr2 JOIN respondent r2 ON sr2.idrespondent = r2.id JOIN examinado e2 ON r2.contact = e2.email WHERE e2.idSector = ${idsector})) * 100 AS porcentaje FROM (SELECT sr.idrespondent FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector} GROUP BY sr.idrespondent HAVING COUNT(*) > 1) AS subquery;"}
{"prompt": "¿Cuántos tests han realizado los examinados según su género?", "response": "SELECT COALESCE(REPLACE(REPLACE(JSON_UNQUOTE(choice_text), '<p>', ''), '</p>', ''), JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1'))) AS genero, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email JOIN LATERAL ( SELECT JSON_EXTRACT( JSON_EXTRACT( CONVERT(s.body USING utf8mb4), '$.pages[0].elements[0].choices' ), CONCAT('$[', CASE WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 1' THEN '0' WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 2' THEN '1' WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 3' THEN '2' ELSE '-1' END, '].text') ) AS choice_text ) choice ON 1=1 WHERE JSON_SEARCH(CONVERT(s.body USING utf8mb4), 'one', '%sexo%', NULL, '$.pages[*].elements[*].title') IS NOT NULL AND r.body IS NOT NULL AND e.idSector = ${idsector} GROUP BY genero;"}
{"prompt": "¿Cuál es la distribución de tests realizados por género?", "response": "SELECT COALESCE(REPLACE(REPLACE(JSON_UNQUOTE(choice_text), '<p>', ''), '</p>', ''), JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1'))) AS genero, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email JOIN LATERAL ( SELECT JSON_EXTRACT( JSON_EXTRACT( CONVERT(s.body USING utf8mb4), '$.pages[0].elements[0].choices' ), CONCAT('$[', CASE WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 1' THEN '0' WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 2' THEN '1' WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 3' THEN '2' ELSE '-1' END, '].text') ) AS choice_text ) choice ON 1=1 WHERE JSON_SEARCH(CONVERT(s.body USING utf8mb4), 'one', '%sexo%', NULL, '$.pages[*].elements[*].title') IS NOT NULL AND r.body IS NOT NULL AND e.idSector = ${idsector} GROUP BY genero;"}
{"prompt": "¿Cómo varía la cantidad de tests realizados por género?", "response": "SELECT COALESCE(REPLACE(REPLACE(JSON_UNQUOTE(choice_text), '<p>', ''), '</p>', ''), JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1'))) AS genero, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email JOIN LATERAL ( SELECT JSON_EXTRACT( JSON_EXTRACT( CONVERT(s.body USING utf8mb4), '$.pages[0].elements[0].choices' ), CONCAT('$[', CASE WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 1' THEN '0' WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 2' THEN '1' WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 3' THEN '2' ELSE '-1' END, '].text') ) AS choice_text ) choice ON 1=1 WHERE JSON_SEARCH(CONVERT(s.body USING utf8mb4), 'one', '%sexo%', NULL, '$.pages[*].elements[*].title') IS NOT NULL AND r.body IS NOT NULL AND e.idSector = ${idsector} GROUP BY genero;"}
{"prompt": "¿Los examinados de un género específico realizan más tests?", "response": "SELECT COALESCE(REPLACE(REPLACE(JSON_UNQUOTE(choice_text), '<p>', ''), '</p>', ''), JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1'))) AS genero, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email JOIN LATERAL ( SELECT JSON_EXTRACT( JSON_EXTRACT( CONVERT(s.body USING utf8mb4), '$.pages[0].elements[0].choices' ), CONCAT('$[', CASE WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 1' THEN '0' WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 2' THEN '1' WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 3' THEN '2' ELSE '-1' END, '].text') ) AS choice_text ) choice ON 1=1 WHERE JSON_SEARCH(CONVERT(s.body USING utf8mb4), 'one', '%sexo%', NULL, '$.pages[*].elements[*].title') IS NOT NULL AND r.body IS NOT NULL AND e.idSector = ${idsector} GROUP BY genero;"}
{"prompt": "¿Cuál es la diferencia en el número de tests realizados por género?", "response": "SELECT COALESCE(REPLACE(REPLACE(JSON_UNQUOTE(choice_text), '<p>', ''), '</p>', ''), JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1'))) AS genero, COUNT(sr.id) AS total_tests FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email JOIN LATERAL ( SELECT JSON_EXTRACT( JSON_EXTRACT( CONVERT(s.body USING utf8mb4), '$.pages[0].elements[0].choices' ), CONCAT('$[', CASE WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 1' THEN '0' WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 2' THEN '1' WHEN JSON_UNQUOTE(JSON_EXTRACT(CONVERT(r.body USING utf8mb4), '$.data.Pregunta1')) = 'Item 3' THEN '2' ELSE '-1' END, '].text') ) AS choice_text ) choice ON 1=1 WHERE JSON_SEARCH(CONVERT(s.body USING utf8mb4), 'one', '%sexo%', NULL, '$.pages[*].elements[*].title') IS NOT NULL AND r.body IS NOT NULL AND e.idSector = ${idsector} GROUP BY genero;"}
{"prompt": "¿Cuántos tests distintos ha completado cada examinado en promedio?", "response": "SELECT AVG(total_tests) AS avg_tests_per_examinado FROM (SELECT idrespondent, COUNT(DISTINCT idsurvey) AS total_tests FROM survey_results GROUP BY idrespondent) AS subquery WHERE idrespondent IN (SELECT r.id FROM respondent r JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector})"}
{"prompt": "¿Cuál es el número promedio de tests únicos realizados por cada examinado?", "response": "SELECT AVG(total_tests) AS avg_tests_per_examinado FROM (SELECT idrespondent, COUNT(DISTINCT idsurvey) AS total_tests FROM survey_results GROUP BY idrespondent) AS subquery WHERE idrespondent IN (SELECT r.id FROM respondent r JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector})"}
{"prompt": "¿En promedio, cuántos tests diferentes ha realizado cada examinado?", "response": "SELECT AVG(total_tests) AS avg_tests_per_examinado FROM (SELECT idrespondent, COUNT(DISTINCT idsurvey) AS total_tests FROM survey_results GROUP BY idrespondent) AS subquery WHERE idrespondent IN (SELECT r.id FROM respondent r JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector})"}
{"prompt": "¿Cuál es la media de tests distintos completados por examinado?", "response": "SELECT AVG(total_tests) AS avg_tests_per_examinado FROM (SELECT idrespondent, COUNT(DISTINCT idsurvey) AS total_tests FROM survey_results GROUP BY idrespondent) AS subquery WHERE idrespondent IN (SELECT r.id FROM respondent r JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector})"}
{"prompt": "¿Cuántos tests diferentes realiza cada examinado en promedio?", "response": "SELECT AVG(total_tests) AS avg_tests_per_examinado FROM (SELECT idrespondent, COUNT(DISTINCT idsurvey) AS total_tests FROM survey_results GROUP BY idrespondent) AS subquery WHERE idrespondent IN (SELECT r.id FROM respondent r JOIN examinado e ON r.contact = e.email WHERE e.idSector = ${idsector})"}
{"prompt": "¿Cómo influye el tipo de test en la cantidad de intentos de los examinados?", "response": "SELECT s.name AS test_name, COUNT(sr.id) AS total_attempts FROM survey_results sr JOIN survey s ON sr.idsurvey = s.id WHERE s.sector_id = ${idsector} GROUP BY s.name"}
{"prompt": "¿Cuántos intentos se han registrado para cada tipo de test?", "response": "SELECT s.name AS test_name, COUNT(sr.id) AS total_attempts FROM survey_results sr JOIN survey s ON sr.idsurvey = s.id WHERE s.sector_id = ${idsector} GROUP BY s.name"}
{"prompt": "¿Existe una relación entre el tipo de test y el número de intentos?", "response": "SELECT s.name AS test_name, COUNT(sr.id) AS total_attempts FROM survey_results sr JOIN survey s ON sr.idsurvey = s.id WHERE s.sector_id = ${idsector} GROUP BY s.name"}
{"prompt": "¿Qué tipo de test tiene más intentos por parte de los examinados?", "response": "SELECT s.name AS test_name, COUNT(sr.id) AS total_attempts FROM survey_results sr JOIN survey s ON sr.idsurvey = s.id WHERE s.sector_id = ${idsector} GROUP BY s.name ORDER BY total_attempts DESC LIMIT 1"}
{"prompt": "¿Los examinados intentan más veces ciertos tipos de test?", "response": "SELECT s.name AS test_name, COUNT(sr.id) AS total_attempts FROM survey_results sr JOIN survey s ON sr.idsurvey = s.id WHERE s.sector_id = ${idsector} GROUP BY s.name"}
{"prompt": "¿Cuántos examinados hay por notificación?", "response": "SELECT n.id AS notification_id, n.name, COUNT(r.id) AS total_examinados FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY n.id, n.name ORDER BY total_examinados DESC;"}
{"prompt": "¿Cuántos usuarios recibieron cada notificación?", "response": "SELECT n.id AS notification_id, n.name, COUNT(r.id) AS total_examinados FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY n.id, n.name ORDER BY total_examinados DESC;"}
{"prompt": "¿Cuántos destinatarios tiene cada notificación?", "response": "SELECT n.id AS notification_id, n.name, COUNT(r.id) AS total_examinados FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY n.id, n.name ORDER BY total_examinados DESC;"}
{"prompt": "¿Cuántas personas fueron notificadas en cada envío?", "response": "SELECT n.id AS notification_id, n.name, COUNT(r.id) AS total_examinados FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY n.id, n.name ORDER BY total_examinados DESC;"}
{"prompt": "¿Cuántos encuestados recibieron cada notificación?", "response": "SELECT n.id AS notification_id, n.name, COUNT(r.id) AS total_examinados FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY n.id, n.name ORDER BY total_examinados DESC;"}
{"prompt": "¿Cuántos registros de examinados tiene cada notificación?", "response": "SELECT n.id AS notification_id, n.name, COUNT(r.id) AS total_examinados FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY n.id, n.name ORDER BY total_examinados DESC;"}
{"prompt": "¿Cuántas notificaciones tiene cada instancia?", "response": "SELECT i.id AS instance_id, i.name, COUNT(n.id) AS total_notificaciones FROM instance i JOIN notification n ON i.id = n.instance_id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY i.id, i.name ORDER BY total_notificaciones DESC;"}
{"prompt": "¿Cuántos envíos se han generado en cada instancia?", "response": "SELECT i.id AS instance_id, i.name, COUNT(n.id) AS total_notificaciones FROM instance i JOIN notification n ON i.id = n.instance_id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY i.id, i.name ORDER BY total_notificaciones DESC;"}
{"prompt": "¿Cuántas notificaciones ha generado cada instancia?", "response": "SELECT i.id AS instance_id, i.name, COUNT(n.id) AS total_notificaciones FROM instance i JOIN notification n ON i.id = n.instance_id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY i.id, i.name ORDER BY total_notificaciones DESC;"}
{"prompt": "¿Cuántos avisos se han enviado desde cada instancia?", "response": "SELECT i.id AS instance_id, i.name, COUNT(n.id) AS total_notificaciones FROM instance i JOIN notification n ON i.id = n.instance_id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY i.id, i.name ORDER BY total_notificaciones DESC;"}
{"prompt": "¿Cuántos registros de notificación tiene cada instancia?", "response": "SELECT i.id AS instance_id, i.name, COUNT(n.id) AS total_notificaciones FROM instance i JOIN notification n ON i.id = n.instance_id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY i.id, i.name ORDER BY total_notificaciones DESC;"}
{"prompt": "¿Cuántos eventos de notificación ha generado cada instancia?", "response": "SELECT i.id AS instance_id, i.name, COUNT(n.id) AS total_notificaciones FROM instance i JOIN notification n ON i.id = n.instance_id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY i.id, i.name ORDER BY total_notificaciones DESC;"}
{"prompt": "¿Cuántos accesos a la encuesta ha registrado cada notificación?", "response": "SELECT n.id AS notification_id, n.name, COUNT(r.id) AS total_accesos FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE r.status IN ('open', 'partial', 'completed') AND s.sector_id = ${idsector} GROUP BY n.id, n.name ORDER BY total_accesos DESC;"}
{"prompt": "¿Cuántos envíos ha realizado cada instancia?", "response": "SELECT i.id AS instance_id, i.name, COUNT(n.id) AS total_envios FROM notification n JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY i.id, i.name ORDER BY total_envios DESC;"}
{"prompt": "¿Cuántas notificaciones ha generado cada instancia?", "response": "SELECT i.id AS instance_id, i.name, COUNT(n.id) AS total_envios FROM notification n JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY i.id, i.name ORDER BY total_envios DESC;"}
{"prompt": "¿Cuántos exámenes han sido notificados por cada instancia?", "response": "SELECT i.id AS instance_id, i.name, COUNT(n.id) AS total_envios FROM notification n JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY i.id, i.name ORDER BY total_envios DESC;"}
{"prompt": "¿Cuántas notificaciones se han enviado en el último mes?", "response": "SELECT COUNT(n.id) AS total_notificaciones FROM notification n JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND n.sent_date >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH);"}
{"prompt": "¿Cuántos envíos de notificación se realizaron en los últimos 30 días?", "response": "SELECT COUNT(n.id) AS total_notificaciones FROM notification n JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND n.sent_date >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH);"}
{"prompt": "¿Cuántas notificaciones fueron enviadas en el último mes?", "response": "SELECT COUNT(n.id) AS total_notificaciones FROM notification n JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND n.sent_date >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH);"}
{"prompt": "¿Cuántos correos de notificación se enviaron en los últimos 30 días?", "response": "SELECT COUNT(n.id) AS total_notificaciones FROM notification n JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND n.sent_date >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH);"}
{"prompt": "¿Cuántos encuestados han recibido una notificación pero no han abierto la encuesta?", "response": "SELECT COUNT(r.id) AS total_no_abiertos FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND r.status = 'sent';"}
{"prompt": "¿Cuántos encuestados han sido notificados pero no han accedido a la encuesta?", "response": "SELECT COUNT(r.id) AS total_no_abiertos FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND r.status = 'sent';"}
{"prompt": "¿Cuántos destinatarios no han abierto la encuesta tras recibir la notificación?", "response": "SELECT COUNT(r.id) AS total_no_abiertos FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND r.status = 'sent';"}
{"prompt": "¿Cuántos encuestados han recibido la notificación pero no han interactuado con la encuesta?", "response": "SELECT COUNT(r.id) AS total_no_abiertos FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND r.status = 'sent';"}
{"prompt": "¿Cuántas encuestas han sido completadas?", "response": "SELECT COUNT(r.id) AS total_completadas FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND r.status = 'completed';"}
{"prompt": "¿Cuántos exámenes han sido completados?", "response": "SELECT COUNT(r.id) AS total_completadas FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND r.status = 'completed';"}
{"prompt": "¿Cuántas evaluaciones han sido finalizadas con éxito?", "response": "SELECT COUNT(r.id) AS total_completadas FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND r.status = 'completed';"}
{"prompt": "¿Cuántos test han sido completados por los encuestados?", "response": "SELECT COUNT(r.id) AS total_completadas FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND r.status = 'completed';"}
{"prompt": "¿Cuántos exámenes han sido iniciados pero no completados?", "response": "SELECT COUNT(r.id) AS total_iniciados_no_completados FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND r.status = 'partial';"}
{"prompt": "¿Cuál es la encuesta con más respuestas registradas?", "response": "SELECT s.id AS survey_id, s.name, COUNT(r.id) AS total_respuestas FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY s.id, s.name ORDER BY total_respuestas DESC LIMIT 1;"}
{"prompt": "¿Cuántos encuestados han participado en más de una encuesta?", "response": "SELECT COUNT(*) AS total_examinados_multiencuesta FROM ( SELECT r.contact FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} GROUP BY r.contact HAVING COUNT(DISTINCT s.id) > 1 ) subquery;"}
{"prompt": "¿Cuántas notificaciones se han enviado en el último mes?", "response": "SELECT COUNT(n.id) AS total_notificaciones FROM notification n JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND n.sent_date >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH);"}
{"prompt": "¿Cuántos encuestados han respondido parcialmente a una encuesta?", "response": "SELECT COUNT(r.id) AS total_parciales FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND r.status = 'partial';"}
{"prompt": "¿Cuáles son los encuestados que han recibido una notificación pero no han abierto la encuesta?", "response": "SELECT r.id AS respondent_id, r.contact AS email, r.notification_id, n.name AS notification_name, i.id AS instance_id, s.name AS survey_name FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON n.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE s.sector_id = ${idsector} AND r.status = 'sent';"}
{"prompt": "¿Cuántos examinados hay en el test de inteligencia?", "response": "SELECT COUNT(*) as total FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE sr.idsurvey = 'inteligencia' AND e.idSector = ${idsector};"}
{"prompt": "¿Cuántas personas realizaron el examen de razonamiento?", "response": "SELECT COUNT(*) as total FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE sr.idsurvey = 'razonamiento' AND e.idSector = ${idsector};"}
{"prompt": "Número de individuos que tomaron el test de personalidad", "response": "SELECT COUNT(*) as total FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE sr.idsurvey = 'personalidad' AND e.idSector = ${idsector};"}
{"prompt": "Conteo de examinados para el test de aptitud verbal", "response": "SELECT COUNT(*) as total FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE sr.idsurvey = 'aptitud verbal' AND e.idSector = ${idsector};"}
{"prompt": "¿Cuántos alumnos realizaron el examen básico?", "response": "SELECT COUNT(*) as total FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact COLLATE utf8mb4_general_ci = e.email COLLATE utf8mb4_general_ci WHERE sr.idsurvey = 'razonamiento' AND e.idSector = ${idsector};"}
{"prompt": "¿Qué nota sacó ${nombre} ${apellido} en el último examen?", "response": "SELECT sr.totalScore FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuál fue la puntuación más reciente de ${nombre} ${apellido}?", "response": "SELECT sr.totalScore FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuántos exámenes ha completado ${nombre} ${apellido}?", "response": "SELECT COUNT(*) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuánto tardó ${nombre} ${apellido} en el último test?", "response": "SELECT sr.tiempoTotalEncuesta FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Ha hecho ${nombre} ${apellido} el test psicométrico?", "response": "SELECT COUNT(*) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email JOIN survey s ON sr.idsurvey = s.id WHERE s.is_psicometric = 1 AND e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿${nombre} ${apellido} ha completado algún test de sentimientos?", "response": "SELECT COUNT(*) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email JOIN survey s ON sr.idsurvey = s.id WHERE s.is_feelings = 1 AND e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Qué tests ha hecho ${nombre} ${apellido}?", "response": "SELECT s.name, sr.fechaFinalizacion FROM survey_results sr JOIN survey s ON sr.idsurvey = s.id JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC;"}
{"prompt": "¿Qué resultados obtuvo ${nombre} ${apellido} en sus tests?", "response": "SELECT s.name, sr.totalScore FROM survey_results sr JOIN survey s ON sr.idsurvey = s.id JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Qué nota sacó ${nombre} ${apellido} en el último examen?", "response": "SELECT sr.totalScore FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuántos exámenes ha completado ${nombre} ${apellido}?", "response": "SELECT COUNT(*) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuándo fue el último examen que hizo ${nombre} ${apellido}?", "response": "SELECT sr.fechaFinalizacion FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "Dame las respuestas del último examen de ${nombre} ${apellido}.", "response": "SELECT sr.result FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuántos exámenes ha iniciado pero no completado ${nombre} ${apellido}?", "response": "SELECT COUNT(*) FROM respondent r JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND r.status = 'partial';"}
{"prompt": "¿Cuántas encuestas tiene pendientes ${nombre} ${apellido}?", "response": "SELECT COUNT(*) FROM respondent r JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND r.status IN ('scheduled', 'sent', 'open');"}
{"prompt": "¿Qué tests ha completado ${nombre} ${apellido} y cuándo?", "response": "SELECT s.name, sr.fechaFinalizacion FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN survey s ON sr.idsurvey = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC;"}
{"prompt": "¿Cuál es el correo de contacto de ${nombre} ${apellido}?", "response": "SELECT email FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}';"}
{"prompt": "¿Qué puesto de trabajo tiene ${nombre} ${apellido}?", "response": "SELECT empleo FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}';"}
{"prompt": "¿Desde cuándo trabaja ${nombre} ${apellido} en la empresa?", "response": "SELECT antiguedad FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}';"}
{"prompt": "Dame la información completa de ${nombre} ${apellido}.", "response": "SELECT * FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Cuál es el email de ${nombre} ${apellido}?", "response": "SELECT email FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Qué número de teléfono tiene ${nombre} ${apellido}?", "response": "SELECT telefono FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Cuál es el DNI de ${nombre} ${apellido}?", "response": "SELECT dni FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Qué empleo tiene ${nombre} ${apellido}?", "response": "SELECT empleo FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Cuál es la antigüedad de ${nombre} ${apellido} en la empresa?", "response": "SELECT antiguedad FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Está activo ${nombre} ${apellido}?", "response": "SELECT activo FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Qué edad tiene ${nombre} ${apellido}?", "response": "SELECT fechanacimiento FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Cuál es la fecha de nacimiento de ${nombre} ${apellido}?", "response": "SELECT fechanacimiento FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿${nombre} ${apellido} está dado de alta?", "response": "SELECT activo FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Cuál es el cargo que ocupa ${nombre} ${apellido}?", "response": "SELECT empleo FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "Dime el contacto de ${nombre} ${apellido}.", "response": "SELECT email, telefono FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Cuándo nació ${nombre} ${apellido}?", "response": "SELECT fechanacimiento FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Cuál es la situación de ${nombre} ${apellido}?", "response": "SELECT activo, empleo FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Desde cuándo trabaja ${nombre} ${apellido}?", "response": "SELECT antiguedad FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "Dame los datos laborales de ${nombre} ${apellido}.", "response": "SELECT empleo, antiguedad FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "Dame los datos personales de ${nombre} ${apellido}.", "response": "SELECT nombre, apellidos, email, telefono, dni FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Cuál es el número de DNI de ${nombre} ${apellido}?", "response": "SELECT dni FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿${nombre} ${apellido} tiene email?", "response": "SELECT email FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿${nombre} ${apellido} tiene teléfono registrado?", "response": "SELECT telefono FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "Dame los datos básicos de ${nombre} ${apellido}.", "response": "SELECT nombre, apellidos, email, telefono FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Cuál es el estado de ${nombre} ${apellido} en la empresa?", "response": "SELECT activo, empleo FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Qué cargo y antigüedad tiene ${nombre} ${apellido}?", "response": "SELECT empleo, antiguedad FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Qué información legal hay de ${nombre} ${apellido}?", "response": "SELECT dni, fechanacimiento FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿${nombre} ${apellido} sigue trabajando en la empresa?", "response": "SELECT activo FROM examinado WHERE nombre = '${nombre}' AND apellidos = '${apellido}' AND idSector = ${idsector};"}
{"prompt": "¿Cuántos exámenes ha realizado ${nombre} ${apellido}?", "response": "SELECT COUNT(*) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuántos exámenes ha completado ${nombre} ${apellido}?", "response": "SELECT COUNT(*) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND sr.completado = 1;"}
{"prompt": "¿Qué puntuación sacó ${nombre} ${apellido} en su último test?", "response": "SELECT sr.totalScore FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuál fue el último resultado de ${nombre} ${apellido}?", "response": "SELECT sr.totalScore FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿En qué fecha fue el último examen de ${nombre} ${apellido}?", "response": "SELECT sr.fechaFinalizacion FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "Dame la nota más alta de ${nombre} ${apellido}.", "response": "SELECT MAX(sr.totalScore) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuáles son las notas de ${nombre} ${apellido}?", "response": "SELECT sr.totalScore FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "Dame todas las puntuaciones de ${nombre} ${apellido}.", "response": "SELECT sr.totalScore, sr.fechaFinalizacion FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC;"}
{"prompt": "¿Qué exámenes ha hecho ${nombre} ${apellido}?", "response": "SELECT s.name, sr.fechaFinalizacion FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuántas veces ha hecho el mismo test ${nombre} ${apellido}?", "response": "SELECT s.name, COUNT(*) AS veces_realizado FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' GROUP BY s.name;"}
{"prompt": "¿Qué tests ha repetido ${nombre} ${apellido}?", "response": "SELECT s.name FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' GROUP BY s.name HAVING COUNT(*) > 1;"}
{"prompt": "¿Qué duración tuvo el último examen de ${nombre} ${apellido}?", "response": "SELECT sr.tiempoTotalEncuesta FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuánto tiempo ha invertido ${nombre} ${apellido} en sus exámenes?", "response": "SELECT SUM(sr.tiempoTotalEncuesta) AS tiempo_total FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Qué nota sacó ${nombre} ${apellido} en cada examen?", "response": "SELECT s.name, sr.totalScore FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿En qué fechas realizó exámenes ${nombre} ${apellido}?", "response": "SELECT sr.fechaFinalizacion FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC;"}
{"prompt": "¿Qué test hizo ${nombre} ${apellido} el día que sacó su mejor nota?", "response": "SELECT s.name FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.totalScore DESC LIMIT 1;"}
{"prompt": "Dame el historial completo de notas de ${nombre} ${apellido}.", "response": "SELECT s.name, sr.totalScore, sr.fechaFinalizacion FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC;"}
{"prompt": "¿Qué test completó recientemente ${nombre} ${apellido}?", "response": "SELECT s.name FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Qué puntuación tuvo ${nombre} ${apellido} en su examen más reciente?", "response": "SELECT sr.totalScore FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuántas preguntas ha respondido en total ${nombre} ${apellido}?", "response": "SELECT SUM(sr.totalQuestions) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuántos errores ha tenido en total ${nombre} ${apellido}?", "response": "SELECT SUM(sr.totalIncorrect) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuántas respuestas correctas ha dado ${nombre} ${apellido}?", "response": "SELECT SUM(sr.totalCorrect) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuál fue la media de aciertos de ${nombre} ${apellido}?", "response": "SELECT AVG(sr.totalCorrect) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuál es la nota media de ${nombre} ${apellido}?", "response": "SELECT AVG(sr.totalScore) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuántas notificaciones ha recibido ${nombre} ${apellido}?", "response": "SELECT COUNT(*) FROM respondent r JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Qué encuestas ha recibido ${nombre} ${apellido}?", "response": "SELECT s.name FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Qué encuestas tiene pendientes ${nombre} ${apellido}?", "response": "SELECT s.name FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND r.status != 'completed';"}
{"prompt": "¿Qué encuestas ha completado ${nombre} ${apellido}?", "response": "SELECT s.name FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND r.status = 'completed';"}
{"prompt": "¿En qué fechas ha recibido notificaciones ${nombre} ${apellido}?", "response": "SELECT n.sent_date FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY n.sent_date DESC;"}
{"prompt": "¿Cuántas veces ha sido notificado ${nombre} ${apellido}?", "response": "SELECT COUNT(DISTINCT n.id) FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuántas instancias tiene registradas ${nombre} ${apellido}?", "response": "SELECT COUNT(DISTINCT r.instance_id) FROM respondent r JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Qué encuestas ha respondido ${nombre} ${apellido}?", "response": "SELECT DISTINCT s.name FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND r.status = 'completed';"}
{"prompt": "¿Qué encuestas tiene abiertas ${nombre} ${apellido}?", "response": "SELECT s.name FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND r.status = 'open';"}
{"prompt": "¿Qué encuestas tiene asignadas ${nombre} ${apellido}?", "response": "SELECT s.name FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuántas encuestas ha respondido ${nombre} ${apellido}?", "response": "SELECT COUNT(*) FROM respondent r JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND r.status = 'completed';"}
{"prompt": "¿Cuántas encuestas tiene sin contestar ${nombre} ${apellido}?", "response": "SELECT COUNT(*) FROM respondent r JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND r.status != 'completed';"}
{"prompt": "¿Cuál fue la última encuesta que respondió ${nombre} ${apellido}?", "response": "SELECT s.name FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND r.status = 'completed' ORDER BY r.id DESC LIMIT 1;"}
{"prompt": "¿Cuál fue el estado de la última encuesta de ${nombre} ${apellido}?", "response": "SELECT r.status FROM respondent r JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY r.id DESC LIMIT 1;"}
{"prompt": "¿Qué encuesta fue enviada primero a ${nombre} ${apellido}?", "response": "SELECT s.name FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY i.creation_date ASC LIMIT 1;"}
{"prompt": "¿Qué encuestas están activas para ${nombre} ${apellido}?", "response": "SELECT s.name FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND s.is_in_production = 1;"}
{"prompt": "¿En cuántas encuestas participa ${nombre} ${apellido}?", "response": "SELECT COUNT(DISTINCT s.id) FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Ha respondido ${nombre} ${apellido} alguna encuesta de talento?", "response": "SELECT COUNT(*) FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND s.is_talent IS NOT NULL;"}
{"prompt": "¿Ha completado alguna encuesta de sentimientos ${nombre} ${apellido}?", "response": "SELECT COUNT(*) FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND s.is_feelings = 1 AND r.status = 'completed';"}
{"prompt": "¿Qué encuestas de producción ha completado ${nombre} ${apellido}?", "response": "SELECT s.name FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND s.is_in_production = 1 AND r.status = 'completed';"}
{"prompt": "¿Qué instancias están relacionadas con ${nombre} ${apellido}?", "response": "SELECT DISTINCT i.name FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿En qué sectores ha recibido encuestas ${nombre} ${apellido}?", "response": "SELECT DISTINCT i.sector_id FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿De qué marca ha recibido más encuestas ${nombre} ${apellido}?", "response": "SELECT s.brand, COUNT(*) as total FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' GROUP BY s.brand ORDER BY total DESC LIMIT 1;"}
{"prompt": "¿Qué encuestas tiene programadas ${nombre} ${apellido}?", "response": "SELECT s.name FROM respondent r JOIN notification n ON r.notification_id = n.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' AND n.sending_type = 'scheduled';"}
{"prompt": "¿Qué estados tienen las encuestas de ${nombre} ${apellido}?", "response": "SELECT s.name, r.status FROM respondent r JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuánto tiempo ha tardado ${nombre} ${apellido} en completar su último test?", "response": "SELECT sr.tiempoTotalEncuesta FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuál ha sido la media de tiempo de ${nombre} ${apellido} en las encuestas?", "response": "SELECT AVG(sr.tiempoTotalEncuesta) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuál es la puntuación media de ${nombre} ${apellido}?", "response": "SELECT AVG(sr.totalScore) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Qué puntuación obtuvo ${nombre} ${apellido} en la última encuesta?", "response": "SELECT sr.totalScore FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuál fue la fecha de finalización del último examen de ${nombre} ${apellido}?", "response": "SELECT sr.fechaFinalizacion FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Qué habilidades ha evaluado ${nombre} ${apellido} en sus tests?", "response": "SELECT DISTINCT JSON_KEYS(sr.result) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Cuáles son las puntuaciones de las habilidades de ${nombre} ${apellido}?", "response": "SELECT sr.result FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Ha aprobado ${nombre} ${apellido} alguna prueba de talento?", "response": "SELECT COUNT(*) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE s.is_talent IS NOT NULL AND e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Qué habilidades tiene mejor puntuadas ${nombre} ${apellido}?", "response": "SELECT sr.result FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuál fue el resultado de la prueba de sentimiento más reciente de ${nombre} ${apellido}?", "response": "SELECT sr.result FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE s.is_feelings = 1 AND e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuántas pruebas psicométricas ha realizado ${nombre} ${apellido}?", "response": "SELECT COUNT(*) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE s.is_psicometric = 1 AND e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Qué nota ha sacado ${nombre} ${apellido} en sus encuestas psicométricas?", "response": "SELECT sr.totalScore FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE s.is_psicometric = 1 AND e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC;"}
{"prompt": "¿Qué media de habilidades tiene ${nombre} ${apellido}?", "response": "SELECT sr.result FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿En qué habilidad destaca más ${nombre} ${apellido}?", "response": "SELECT sr.result FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿En qué habilidad tiene menor puntuación ${nombre} ${apellido}?", "response": "SELECT sr.result FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuál ha sido la duración promedio de los tests de ${nombre} ${apellido}?", "response": "SELECT AVG(sr.tiempoTotalEncuesta) FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
{"prompt": "¿Qué test de habilidades realizó por última vez ${nombre} ${apellido}?", "response": "SELECT s.name FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE s.is_talent IS NOT NULL AND e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuál fue el tiempo total del test más reciente de ${nombre} ${apellido}?", "response": "SELECT sr.tiempoTotalEncuesta FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuántos puntos ha sacado ${nombre} ${apellido} en su último test de talento?", "response": "SELECT sr.totalScore FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN instance i ON r.instance_id = i.id JOIN survey s ON i.survey_id = s.id JOIN examinado e ON r.contact = e.email WHERE s.is_talent IS NOT NULL AND e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿En qué secciones obtuvo mejores resultados ${nombre} ${apellido}?", "response": "SELECT sr.result FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuál ha sido su progreso en habilidades ${nombre} ${apellido}?", "response": "SELECT sr.result FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion;"}
{"prompt": "¿Qué habilidades ha mejorado ${nombre} ${apellido} con el tiempo?", "response": "SELECT sr.result FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion;"}
{"prompt": "¿Cuáles fueron las habilidades evaluadas en la última encuesta de ${nombre} ${apellido}?", "response": "SELECT sr.result FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Qué habilidades necesita reforzar ${nombre} ${apellido} según sus resultados?", "response": "SELECT sr.result FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}' ORDER BY sr.fechaFinalizacion DESC LIMIT 1;"}
{"prompt": "¿Cuál es el rendimiento general de ${nombre} ${apellido} en las habilidades evaluadas?", "response": "SELECT sr.result FROM survey_results sr JOIN respondent r ON sr.idrespondent = r.id JOIN examinado e ON r.contact = e.email WHERE e.nombre = '${nombre}' AND e.apellidos = '${apellido}';"}
